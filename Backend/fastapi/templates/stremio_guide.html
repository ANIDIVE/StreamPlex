{% extends "base.html" %}

{% block title %}Stremio Setup Guide - Telegram Stremio{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Header -->
    <div class="mb-8 text-center">
        <h1 class="text-3xl font-bold">Stremio Addon Setup</h1>
        <p class="theme-text-secondary mt-2">Install the Telegram Stremio addon to access your media through Stremio</p>
    </div>
    
    <!-- Installation Steps -->
    <div class="space-y-6">
        <div class="theme-card p-6 rounded-lg shadow">
            <div class="flex items-start space-x-4">
                <div class="w-8 h-8 theme-primary rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white font-semibold">1</span>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Copy the Addon URL</h3>
                    <p class="theme-text-secondary mb-4">Copy the manifest URL below to your clipboard</p>
                    <div class="bg-gray-100 p-4 rounded-md font-mono text-sm break-all">
                        <span id="addon-url">{{ request.base_url }}stremio/manifest.json</span>
                        <button onclick="copyToClipboard('addon-url')" 
                                class="ml-2 text-primary hover:underline">Copy</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="theme-card p-6 rounded-lg shadow">
            <div class="flex items-start space-x-4">
                <div class="w-8 h-8 theme-primary rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white font-semibold">2</span>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Open Stremio</h3>
                    <p class="theme-text-secondary">Launch the Stremio application on your device</p>
                </div>
            </div>
        </div>
        
        <div class="theme-card p-6 rounded-lg shadow">
            <div class="flex items-start space-x-4">
                <div class="w-8 h-8 theme-primary rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white font-semibold">3</span>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Navigate to Addons</h3>
                    <p class="theme-text-secondary">Go to the "Addons" section in Stremio's main menu</p>
                </div>
            </div>
        </div>
        
        <div class="theme-card p-6 rounded-lg shadow">
            <div class="flex items-start space-x-4">
                <div class="w-8 h-8 theme-primary rounded-full flex items-center justify-center flex-shrink-0">
                    <span class="text-white font-semibold">4</span>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-2">Install the Addon</h3>
                    <p class="theme-text-secondary mb-4">Paste the URL in the "Add Addon" field and click install</p>
                    <div class="bg-blue-50 border border-blue-200 text-blue-700 p-4 rounded-md">
                        <strong>Tip:</strong> Make sure your device can access this server's IP address on the network
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Additional Information -->
    <div class="theme-card p-6 rounded-lg shadow mt-8">
        <h2 class="text-xl font-semibold mb-4">Additional Information</h2>
        <div class="space-y-4">
            <div>
                <h4 class="font-medium">Network Requirements</h4>
                <p class="theme-text-secondary text-sm">Both Stremio and this server must be on the same network or the server must be accessible via internet</p>
            </div>
            <div>
                <h4 class="font-medium">Supported Content</h4>
                <p class="theme-text-secondary text-sm">The addon provides access to movies and TV shows in your media collection</p>
            </div>
            <div>
                <h4 class="font-medium">Updates</h4>
                <p class="theme-text-secondary text-sm">The addon will automatically sync with your media library changes</p>
            </div>
        </div>
    </div>
</div>

<script>
function copyToClipboard(elementId) {
    const element = document.getElementById(elementId);
    const text = element.textContent;
    
    navigator.clipboard.writeText(text).then(() => {
        // Show success message
        const button = element.nextElementSibling;
        const originalText = button.textContent;
        button.textContent = 'Copied!';
        button.classList.add('text-green-600');
        
        setTimeout(() => {
            button.textContent = originalText;
            button.classList.remove('text-green-600');
        }, 2000);
    }).catch(err => {
        console.error('Failed to copy: ', err);
        alert('Failed to copy to clipboard');
    });
}
</script>
{% endblock %}
